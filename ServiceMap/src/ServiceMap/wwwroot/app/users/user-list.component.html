<div [ngBusy]="{busy: busy}"></div>
<div class="panel panel-primary map">
    <div class="panel-heading">
        {{pageTitle}}
    </div>
    <div class="panel-body">
        <div class="form-inline">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <div class="form-group">
                        <div>
                            <label for="pesel" style="font-size:medium;">Podaj </label>
                            <input class="form-control"
                                   type="text"
                                   autocomplete="off"
                                   focus="true"
                                   placeholder="Email"
                                   [(ngModel)]="Email" />
                        </div>
                    </div>
                    <div class="form-group">
                        <div>
                            <label class="btn btn-psz-filter">
                                <input 
                                       id="isSuperUserId"
                                       type="checkbox"/>
                                Pokaż konta zablokowane
                            </label>
                        </div>
                    </div>

                    <button name="searchBtn"
                            class="btn btn-psz-gray"
                            (click)='onSearchService()'>
                        <i class="fa fa-search fa-1x"></i> &nbsp;&nbsp;Szukaj
                    </button>
                </div>
            </div>
        </div>
        <div class="tablecontainer">
            <div class="table-responsive">
                <table class="table table-bordered table-striped table-condensed table-fixed " *ngIf="users && users.length">
                    <thead>
                        <tr>
                            <th>Email</th>
                            <th>Liczba zapytań</th>
                            <th>Konto użytkownika TNT</th>
                            <th>Konto zablokowane</th>
                            <th>Id</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let user of users">
                            <td>{{user.email | lowercase}}</td>
                            <td>{{user.limitOfRequestsPerDay}}</td>
                            <td>
                                <span *ngIf="user.isSuperUser"><i class="fa fa-check-square-o fa-1x" aria-hidden="true"></i></span>
                                <span *ngIf="!user.isSuperUser"><i class="fa fa-square-o fa-1x" aria-hidden="true"></i></span>
                            </td>
                            <td>
                                <span *ngIf="user.isLocked"><i class="fa fa-check-square-o fa-1x" aria-hidden="true"></i></span>
                                <span *ngIf="!user.isLocked"><i class="fa fa-square-o fa-1x" aria-hidden="true"></i></span>
                            </td>
                            <td>{{user._id}}</td>
                            <td>
                                <a class="btn btn-primary"
                                   [routerLink]="['/adduser']" 
                                   [queryParams]="{_id:user._id, email:user.email, isSuperUser:user.isSuperUser, isLocked:user.isLocked }">
                                   Edytuj
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!--<page-app *ngIf='servicesTnt && servicesTnt.length && paging.pageSize>1'
                  [totalCount]='paging.totalCount'
                  [pageSize]='paging.pageSize'
                  (pageClicked)='onPageClicked($event)'>
        </page-app>-->
    </div>
</div>


<!--<lg-modal #lgModal [myheader]="' '">
    <depot-details [depotsTnt]='depotTnt'></depot-details>
</lg-modal>-->

